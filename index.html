<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>你一定会八炸九炸的</title>
    <meta name="renderer" content="webkit">
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*" />
<!--    <link href="https://cdn.staticfile.net/layui/2.9.4/css/layui.min.css" rel="stylesheet">-->
<!--    <link href="https://gitee.com/jackiechan/ptepractise/raw/webversion/css/custom.css" rel="stylesheet">-->
    <link href="./css/layui.css" rel="stylesheet">
    <link href="./css/custom.css" rel="stylesheet">
    <!--    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5402761129577992"-->
    <!--            crossorigin="anonymous"></script>-->
</head>
<body style="background-color: #CCEED0;height: 100%">

<div class="layui-layout layui-layout-admin" style="margin-top: 1px">
此版本因为代码尚未更新,暂时无法开放,请使用<a style="color: red;font-size: 26px" href="https://ptepractise.chenjunbo.top/" target="_blank">新版本(点击此处跳转)</a>,等后续有时间了会重新更新,历史记录请通过导出功能导出后进入新地址粘贴到导入导出功能中
    <div class="layui-fluid" id="main" >
        <div class="layui-form-item">
            <label>导出记录包括收藏夹和对错记录</label>
            <div class="layui-inline">
                <button class="layui-btn layui-btn-sm" lay-header-event="export" onclick="readLocal()">导出数据</button>
                <button class="layui-btn layui-btn-sm" lay-header-event="import" onclick="importLocal()">导入</button>
            </div>
        </div>
        <div class="layui-inline" style="width: 70%;height: 60%; margin-top: 30px;padding-left: 30px">
            <label style="color: red;font-size: 20px">导出后从本区域全选复制内容,然后去新版地址登录选择导入功能,将内容粘贴进去导入即可<br/>
            </label>
            <textarea maxlength="-1" class="layui-input" style="width: 100%; height: 100%" id="result"></textarea>
        </div>
    </div>
</div>
<script src="https://cdn.staticfile.net/layui/2.9.4/layui.min.js" type="text/javascript"></script>
<script type="text/javascript">
    layui.use(['element', 'layer', 'util'], function () {
        var element = layui.element;
        var layer = layui.layer;
        var util = layui.util;
        $ = layui.$;
    });
    function readLocal() {
        var localStorage = exportAllLocalStorage();
        $("#result").val(JSON.stringify(localStorage));
    }

    function importLocal() {
        var html = $("#result").val();
        console.log(html);
        if (html) {
            import2LocalStorage(JSON.parse(html));
        }
    }
    function exportAllLocalStorage() {
        const storage = {};
        for (let i = 0; i < window.localStorage.length; i++) {
            const key = window.localStorage.key(i);
            storage[key] = window.localStorage.getItem(key);
        }
        return storage;
    }

    function import2LocalStorage(storage) {
        for (key in storage) {
            window.localStorage.setItem(key, storage[key]);
        }
    }

</script>
</body>
</html>

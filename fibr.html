<form action="#" class="layui-form" id="fibrsearch-form">


    <div class="layui-row">
        <div class="layui-col-xs5 layui-col-sm2 layui-col-md1">
            <div class="grid-demo">
                <input id="fibrqNumInput" type="number" name="qNum" autocomplete="off" placeholder="è¯·è¾“å…¥é¢˜å·"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-col-xs7 layui-col-sm4 layui-col-md2">
            <div class="grid-demo">
                <select name="type" id="fibrtypeselection">
                    <option value="-1">Cå“¥é˜…è¯»æ‹–æ‹½ç»¿è‰²é¢˜ç›®</option>
                    <option value="1">Cå“¥é˜…è¯»æ‹–æ‹½è“è‰²é¢˜ç›®</option>
                    <option value="2">Cå“¥é˜…è¯»æ‹–æ‹½é»„è‰²é¢˜ç›®</option>
<!--                    <option value="3">Cå“¥é˜…è¯»æ‹–æ‹½ç™½è‰²é¢˜ç›®</option>-->
                    <option value="4">Cå“¥é˜…è¯»æ‹–æ‹½å…¨éƒ¨é¢˜ç›®</option>
                    <option value="8">ğŸ¦é˜…è¯»æ‹–æ‹½æœˆé¢„æµ‹å‡å»Cå“¥é¢„æµ‹å…¶ä»–é¢˜</option>
                    <option value="-5">Cå“¥é˜…è¯»æ‹–æ‹½å‡å»ğŸ¦æœˆé¢„æµ‹ä¹‹å¤–é¢˜ç›®</option>
<!--                    <option value="-2">ğŸ¦é˜…è¯»æ‹–æ‹½è¿‘æœŸè¶…é«˜é¢‘</option>-->
<!--                    <option value="-3">ğŸ¦é˜…è¯»æ‹–æ‹½è¿‘æœŸé«˜é¢‘</option>-->
<!--                    <option value="-4">ğŸ¦é˜…è¯»æ‹–æ‹½è¶…è¿‘æœŸæ›´æ–°</option>-->
                    <option value="7">é˜…è¯»æ‹–æ‹½æ”¶è—å¤¹</option>
                    <option value="9">é”™é¢˜é›†</option>
                    <!--                    <option value="5">è‡ªå®šä¹‰é¢˜ç›®1</option>-->
                    <!--                    <option value="6">è‡ªå®šä¹‰é¢˜ç›®2</option>-->
                </select>
            </div>
        </div>
        <div class="layui-hide-xs layui-col-sm4 layui-col-md3">
            <div class="grid-demo">
                <label class="layui-form-label" style="color: red">å¯é€‰é€‰é¡¹:</label>
                <div class="layui-input-block">
                    <input type="checkbox" name="autonext" title="è‡ªåŠ¨ä¸‹ä¸€é¢˜">
                    <input type="checkbox" name="usefibrwmodel" title="ä½¿ç”¨ä¸‹æ‹‰æ¨¡å¼">
                    <input type="checkbox" name="trans" title="å…¨æ–‡ç¿»è¯‘">
                    <input type="checkbox" name="onlyundo" title="ä»…æ˜¾ç¤ºæœªåš">
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm2 layui-col-md6 layui-row grid-demo">
            <div class="layui-col-md3">
                <button class="layui-btn layui-btn-sm" lay-header-event="fibrsearch">åŠ è½½(æœç´¢)é¢˜ç›®</button>
            </div>
            <div class="layui-col-md2 layui-hide-xs">
                <button class="layui-btn layui-btn-sm" lay-header-event="testlucky">è¯•è¯•æ‰‹æ°”</button>
            </div>
            <div class="layui-col-md3">
                <button class="layui-btn layui-btn-sm" lay-header-event="deleteallrightorfalt">æ¸…ç©ºå¯¹é”™è®°å½•</button>
            </div>
            <div class="layui-col-md2">
                <button class="layui-btn layui-btn-sm" lay-header-event="cleanfav">æ¸…ç©ºæ”¶è—å¤¹</button>
            </div>
            <div class="layui-col-md2 layui-hide-xs">
                <button class="layui-btn layui-btn-sm" lay-header-event="uncompleted" id="uncompleted">ä¸å®Œæ•´é¢˜ç›®
                </button>
            </div>
        </div>
    </div>


</form>


<form class="layui-form" action="" id="fibrquestion-form">

    <div class="layui-row">
        <div id="fibrquestion-div"  class="layui-col-xs12 layui-col-sm12 layui-col-md12" style="padding-left: 20px;padding-right: 20px; line-height: 50px;;background-color: #CCEED0"></div>

        <div class="layui-inline"  class="layui-col-xs12 layui-col-sm12 layui-col-md12"  id="fibroptions" ondrop="fibrdrop1(event)" ondragover="fibrallowDrop(event)"
             style="border: 1px solid green;margin-top:60px;text-align:center;">

        </div>

        <div class="layui-form-item" id="operationtools" class="layui-col-xs12 layui-col-sm12 layui-col-md12"
             hidden="hidden" style="margin-top: 30px">


            <div class="layui-input-block">
                <div class="grid-demo layui-col-xs12 layui-col-sm3 layui-col-lg2">
                    <button type="submit" class="layui-btn layui-btn-sm layui-col-xs4" lay-submit
                            lay-header-event="fibrcheckanswer" lay-filter="demo1"
                            layui-btn layui-btn-sm>
                        æ£€æŸ¥ç­”æ¡ˆ
                    </button>
                    <button class="layui-btn layui-btn-sm" id="showanswer" lay-header-event="fibrshowanswer" layui-btn
                            layui-btn-sm>æ˜¾ç¤º/éšè—ç­”æ¡ˆ
                    </button>


                </div>
                <div class="grid-demo layui-col-xs12 layui-col-sm3 layui-col-lg2">
                    <button class="layui-btn layui-btn-sm layui-col-xs4" id="pre" lay-header-event="fibrpre" layui-btn
                            layui-btn-sm>ä¸Šä¸€é¢˜
                    </button>
                    <button class="layui-btn layui-btn-sm layui-col-xs4" id="next" lay-header-event="fibrnext" layui-btn
                            layui-btn-sm>ä¸‹ä¸€é¢˜
                    </button>
                </div>

                <div class="grid-demo  layui-col-xs12 layui-col-sm3 layui-col-lg1">
                    <button class="layui-btn layui-btn-sm" id="adddeletefav" lay-header-event="adddeletefav" layui-btn
                            layui-btn-sm>æ·»åŠ åˆ°æ”¶è—
                    </button>

                </div>

                <div class="grid-demo  layui-col-xs12 layui-col-sm3 layui-col-lg2">
                    <div class="grid-demo  layui-col-xs6 layui-col-sm6">
                        <input type="number" id="qindex" name="price_min" placeholder="ç¬¬å‡ é¢˜" autocomplete="off"
                               class="layui-input" min="0" step="1" lay-affix="number">
                    </div>

                    <div class="grid-demo  layui-col-xs6 layui-col-sm6">
                        <button class="layui-btn layui-btn-sm" id="gotoindex" lay-header-event="gotoindex">è·³è½¬
                        </button>
                    </div>
                    <!--                    <div class="layui-inline" id="gotoarea">-->
                    <!--                        <div class="layui-inline" style="width: 100px;">-->
                    <!--                            <input type="number" id="qindex" name="price_min" placeholder="ç¬¬å‡ é¢˜" autocomplete="off"-->
                    <!--                                   class="layui-input" min="0" step="1" lay-affix="number">-->
                    <!--                        </div>-->
                    <!--                        <div class="layui-inline" style="width: 100px;">-->
                    <!--                            <button class="layui-btn layui-btn-sm" id="gotoindex" lay-header-event="gotoindex">è·³è½¬-->
                    <!--                            </button>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                </div>
                <div class="grid-demo  layui-col-xs12 layui-col-sm3 layui-col-lg4">
                    <div class="layui-inline layui-hide-xs" id="rightandfalt"></div>
                    <div class="layui-inline">
                        <button class="layui-btn layui-btn-sm" id="clearrightorfalt"
                                lay-header-event="clearrightorfalt">åˆ é™¤å¯¹é”™è®°å½•
                        </button>
                    </div>
                </div>
                <div class="grid-demo  layui-col-xs4 layui-col-sm2 layui-col-lg1">
                    <div class="layui-inline">
                        <button class="layui-btn layui-btn-sm" id="gotoaepui"
                                lay-header-event="gotoaepui">è·³è½¬åˆ°ğŸ¦åˆ·æœ¬é¢˜
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>

</form>

<pre class="layui-code answer-area" lay-options="{}" id="fibranswer-area" style="font-size: 18px;font-family: Arial">
</pre>
<script type="text/javascript">
    var localStorageType = "fibr";
    layui.use(['table', 'layer', 'form', 'util'], function () {
        var layer = layui.layer;
        var form = layui.form;
        var util = layui.util;
        $("#fibrquestion-form").hide();
        $("#uncompleted").hide();
        fibrInit();
        form.render();
        $("#fibranswer-area").hide();
        util.event('lay-header-event', {
            fibrsearch: function (obj, event) { // å·¦ä¾§èœå•äº‹ä»¶
                fibrsearch(obj, event);
                form.render();
                checkfibrlastquestion();
            },
            testlucky: function (obj, event) {
                testfibrlucky(obj, event);
                form.render();
                return false;
            },
            deleteallrightorfalt: function (obj, event) {
                deletefibrallrightorfalt(obj, event);
            },
            clearrightorfalt: function (obj, event) {
                clearfibrrightorfalt(obj, event);
            },
            uncompleted: function (obj, event) {
                fibrUncompleted(obj, event);
            },
            fibrnext: function (obj, event) {
                var result = nextFibRQuestion(obj, event);
                form.render();
                return result;
            },
            fibrpre: function (obj, event) {
                fibrpre(obj, event);
                form.render();
                return false;
            },
            fibrcheckanswer: function (obj, event) {
                fibrcheckanswer(obj, event,form);
               form.render();
                return false;
            },
            fibrshowanswer: function (obj, event) {
                fibrshowanswer(obj, event);
            },
            gotoindex: function (obj, event) {
                event.preventDefault();
                var qIndex = $("#qindex").val();//æƒ³è¦è·³è½¬çš„é¢˜ç›®
                firbgotoindex(qIndex);
                return false;
            },
            adddeletefav: function (obj, event) {
                adddeletefibrfav(obj, event);

            },
            cleanfav: function (obj,event){
                event.preventDefault();
                cleanfibrfav()
            },
            gotoaepui: function (obj,event){
                event.preventDefault();
                var data = currentFibRData();
                var qNum = data.num;
                var local = "cn";
                if (!fibrCnMap.get(qNum)) {
                    local = "en";
                }
                gotoxj(local, "fib_rd", qNum);
                addRightOrFalt(qNum, "right", localStorageType);
                setRightAndFaltNum(qNum, localStorageType);
            }
        });
        // è‡ªå®šä¹‰éªŒè¯è§„åˆ™
        form.verify({
            answer: function (value, obj) {
                console.log("æ£€æŸ¥éç©º");
                if (!value) {
                    var attr = $(obj).attr("style");
                    attr = "border: 1px solid red;" + attr;
                    $(obj).attr("style", attr);
                    return "å¿…å¡«é¡¹ä¸èƒ½ä¸ºç©º";
                }
            }
        });
    })
    $.fn.serializeJson = function () {
        var serializeObj = {};
        var array = this.serializeArray();
        $.each(array, function () {
            if (serializeObj[this.name] !== undefined) {
                if (!serializeObj[this.name].push) {
                    serializeObj[this.name] = [serializeObj[this.name]];
                }
                serializeObj[this.name].push(this.value || '');
            } else {
                serializeObj[this.name] = this.value || '';
            }
        });
        return serializeObj;
    };





</script>
